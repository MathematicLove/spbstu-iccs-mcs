\documentclass[areasetadvanced]{scrartcl}

\usepackage[utf8]{inputenc}
\usepackage[T2A]{fontenc}
\usepackage[english,russian]{babel}

\usepackage[footskip=1cm,left=25mm, right=15mm, top=20mm, bottom=20mm]{geometry}
\usepackage{setspace}
\usepackage{amsmath, amssymb} 
\usepackage{graphicx}
\usepackage{tikz}
\usetikzlibrary{arrows.meta}
\usepackage{float}
\usepackage{dashrule}
\usepackage{fancyhdr} 
\usepackage{hyperref} 
\usepackage{parskip}
\usepackage{textcomp, enumitem}
\usepackage{indentfirst}
\usepackage{graphicx}
\usepackage{algorithm}
\usepackage{algpseudocode}
\usepackage{array} 
\usepackage{geometry}
\usepackage{afterpage}
\usepackage{minted}
\setcounter{secnumdepth}{3} 
\setcounter{tocdepth}{3}    
\usepackage{listings} 

\newcommand{\icon}[1]{\includegraphics[height=1.2em]{#1}}

\tikzstyle{block} = [rectangle, rounded corners, minimum width=3cm, minimum height=1cm, text centered, draw=black, fill=lightgray]

\setkomafont{sectioning}{\normalfont\bfseries} 
\setkomafont{section}{\normalfont\Large\bfseries}
\setkomafont{subsection}{\normalfont\large\bfseries}
\setkomafont{subsubsection}{\normalfont\large\bfseries}
\setkomafont{paragraph}{\normalfont\large\bfseries} 

\lstset{
  language=Haskell,
  basicstyle=\ttfamily\small,
  keywordstyle=\color{blue}\bfseries,
  stringstyle=\color{red},
  commentstyle=\color{green!70!black},
  numbers=left,
  numberstyle=\tiny,
  stepnumber=1,
  numbersep=10pt,
  showstringspaces=false,
  breaklines=true,
  frame=single
}

\lstdefinelanguage{Lua}{
    keywords={function, end, if, then, else, elseif, for, while, do, repeat, until, break, return, local, and, or, not, true, false, nil},
    keywordstyle=\color{blue}\bfseries,
    stringstyle=\color{red},
    commentstyle=\color{green!70!black},
    morestring=[s]{"}{"},
    morestring=[s]{'}{'},
    morecomment=[l]{--},
    morecomment=[s]{--[[}{]]},
    basicstyle=\ttfamily\small,
    numbers=left,
    numberstyle=\tiny,
    stepnumber=1,
    numbersep=10pt,
    showstringspaces=false,
    breaklines=true,
    frame=single
}

\setlength{\parindent}{1.25cm}
\setcounter{tocdepth}{2}
\begin{document}
\sloppy
	\thispagestyle{empty}
	\begin{center}
		\large{МИНОБРНАУКИ РОССИИ} \par
		\vspace{0.3cm}
		\normalsize
		{ФЕДЕРАЛЬНОЕ ГОСУДАРСТВЕННОЕ АВТОНОМНОЕ ОБРАЗОВАТЕЛЬНОЕ УЧРЕЖДЕНИЕ ВЫСШЕГО ОБРАЗОВАНИЯ} \par
		\vspace{0.3cm}
		\textbf{\guillemotleft САНКТ-ПЕТЕРБУРГСКИЙ ПОЛИТЕХНИЧЕСКИЙ}
		\textbf{УНИВЕРСИТЕТ ПЕТРА ВЕЛИКОГО\guillemotright} \par
		\vspace{0.3cm}
		{Институт компьютерных наук и кибербезопасности}\par
		{Высшая школа технологий искусственного интеллекта}\par
	\end{center}
	\vfill
	\begin{center}

        \par
		{\Huge Лабораторная работа №1}\par
        \large {\guillemotleft Планирование меню для Великого поста\guillemotright}\par
		\Large {Человеко-машинный интерфейс}
	\end{center}
	\vfill
	\begin{flushleft}
		Студент: \hspace{1.8cm} \rule[0pt]{2.5cm}{0.5pt}\hfill Салимли Айзек Мухтар Оглы\par
		\vspace{1.5cm}
		Преподаватель: \hspace{0.55cm} \rule[0pt]{2.5cm}{0.5pt}\hfill  Курочкин Михаил Александрович
	\end{flushleft}
	\vspace{0.5cm}
	\begin{flushright}
		\guillemotleft \rule[0pt]{0.8cm}{0.5pt}\guillemotright \rule[0pt]{2cm}{0.5pt} 20\rule[0pt]{0.5cm}{0.5pt} г.
	\end{flushright}
	\vfill
	\begin{center}
		Санкт-Петербург, 2025
	\end{center}
	\newpage
	\tableofcontents
	\newpage
	\newpage
	\section*{Введение}
	\addcontentsline{toc}{section}{Введение}
    Человеко-машинный интерфейс (ЧМИ) — это методы и средства обеспечения . непосредственного взаимодействия между оператором и технической системой, представляющих возможности оператору управлять этой системой и контролировать ее работу.

    В данном отчёте представлены результаты проектирования интерфейса программного обеспечения для поставленной задачи "Планирование меню для Великого поста".

    В ходе работы было проведено исследование, в рамках которого исследована предметная область, выявлены заинтересованные лица и их ожидания, проведён анализ пользователей программы, выявлены цели, задачи и пользовательские процессы.

    На основании исследования был спроектирован человеко-машинный интерфейс программы. В ходе проектирования разработана общая архитектура интерфейса, построена модель взаимодействия и структура команд. Разработанное решение детализировано до уровня экранной формы.

\newpage
\section{Постановка задачи}
\begin{itemize}
    \item Определить цель приложения;
    \item Определить лица, которые заинтересованны этим приложением;
    \item Проанализировать сценарий действия пользователя
    \item Проанализировать возможные ошибки взаимодействия пользователя с интерфейсом и методы контроля таких ошибок;
    \item Построить граф состояний и структуру диалога;
    \item Создать эскизы экранных форм. 
\end{itemize}

Результатом выполнения поставленных задач, является человеко-машинный интерфейс для программного обеспечения, предназначенного для планирования меню Великого поста.

    \newpage
    \section{Великий пост}
    Великий пост — это установленный в православной традиции период подготовки к празднику Пасхи. Его центральная цель — духовное очищение и сосредоточение через молитву и покаяние. Ключевые моменты включают продолжительность в семь недель перед Пасхой, пищевые ограничения, предполагающие отказ от продуктов животного происхождения, и intensified практику добрых дел. Литургия Преждеосвященных Даров является отличительной богослужебной особенностью этого времени.
    Великий пост состоит из двух частей:
    \begin{itemize}
        \item Святая Четыредесятница (первые 40 дней) — символизирует сорокадневный пост Иисуса Христа в пустыне. Это период сугубого покаяния и духовной борьбы.
        \item Страстная седмица (неделя перед Пасхой) — время воспоминания последних дней земной жизни Христа, Его страданий, смерти и погребения. Каждый день этой недели ("Великий Понедельник", "Великий Вторник" и т.д.) посвящен определенным евангельским событиям.
    \end{itemize}
    
    Пищевые ограничения регламентированы Церковным Уставом:
    \begin{itemize}
        \item Полное воздервание от пищи в первый день (Чистый Понедельник) и в Великую Пятницу.
        \item Сухоядение (неприготовленная пища без масла) — предписывается по понедельникам, средам и пятницам.
        \item Горячая пища без масла — разрешается по вторникам и четвергам.
        \item Горячая пища с растительным маслом и вино — допускаются по субботам и воскресеньям (кроме субботы Страстной седмицы).
        \item Рыба разрешается только дважды за весь пост: на Благовещение Пресвятой Богородицы (7 апреля) и на Вербное воскресенье (Вход Господень в Иерусалим).
    \end{itemize}

    Целью и практикой Великого поста являются:
    \begin{itemize}
        \item Усиленную молитву — чтение Покаянного канона Андрея Критского, молитвы Ефрема Сирина.
        \item Отказ от развлечений и суетных занятий для сосредоточения на внутренней жизни.
        \item Таинство Покаяния (Исповедь) и Причастие.
        \item Совершение добрых дел, примирение с ближними
    \end{itemize}

    \newpage
    \section{Анализ приложения для планирования меню Великого поста}
    \subsection{Наиминование и описание приложения}
    "ПостВкус" - спроектированное приложение для планирования меню на период Великого поста, ориентированное на православных христиан и всех, кто соблюдает пост, созданное для удобного подбора и приготовления постных блюд. Помимо основных блюд — супов, салатов и горячего — в приложении можно найти рецепты выпечки, десертов и закусок, соответствующих строгим правилам поста. Каждый рецепт содержит фотографию блюда, подробный список ингредиентов с граммовками и точный расчет на количество порций.
    
    % ОСТАВИТЬ ЛИШЬ ЦЕЛИ УПРОЩЕНИЯ И УСКАРЕНИЯ ГОТОВКИ 
    \subsection{Цель приложения}
    Цель приложения для планирования постного меню:
    \begin{itemize}
        \item Сократить время на планирование ежедневного меню, поиск рецептов и составление списка покупок.
        \item Упростить процесс приготовления постных блюд за счет точного расчета ингредиентов, граммовок и готового выхода порций.
        \item Подобрать примерную сумму затрачиваемую на продукты для приготовления конкретного блюда с указанными порциями.
        \item Ускорить процесс готовки за счет предоставления рецептов с четкими инструкциями.
    \end{itemize}

    \subsection{Заинтересованные лица}
    \begin{itemize}
        \item Православные христиане, соблюдающие пост. (Основные пользователи);
        \item Люди которые хотят приготовить блюда, которые едят во время поста. (Второстепенные пользователи).
    \end{itemize}
    
    \subsection{Ожидания заинтересованных лиц}
    \begin{itemize}
        \item Ожидания православных христиан, соблюдающих пост: удобное и быстрое составление разнообразного меню на весь период поста, точный расчет продуктов для покупки, что позволяет сэкономить время, а также не нарушить церковные предписания.
        \item Ожидания людей, которые хотят приготовить блюда которые едят во время поста: получение понятных инструкций и рецептов, которые помогут легко войти в традицию поста без кулинарных ошибок и с поддержанием разнообразного и вкусного рациона.
    \end{itemize}

    \subsection{Задачи приложения}
    \begin{itemize}
        \item Предоставить пользователям точный расчет количества продуктов для выбранных рецептов, чтобы избежать покупки лишних ингредиентов и минимизировать пищевые отходы.
        \item Обеспечить фильтрацию рецептов по типам постных дней (со маслом, без масла, строгий пост) для соответствия церковному уставу.
        \item Автоматизировать составление списка покупок на основе выбранных рецептов с консолидацией одинаковых ингредиентов.
        \item Предоставлять возможность настройки количества порций с автоматическим пересчетом всех ингредиентов в рецепте.
        \item Обеспечить простой и интуитивно понятный интерфейс для планирования меню на неделю вперед.
        \item Предоставить систему фильтров для исключения аллергенных продуктов и учета диетических предпочтений.
    \end{itemize}
    
\newpage
\section{Методы решения поставленной задачи}
\subsection{Архитектура решения}
Решение представляет собой клиент-серверное мобильное приложение. На стороне сервера будет храниться база данных рецептов, их ингредиентов с граммовками, а также пользовательские данные (сохраненные меню, избранные рецепты). На стороне клиента будет реализован интуитивный интерфейс для поиска, фильтрации рецептов, формирования меню на день или неделю и автоматического генерации списка покупок.

Основными сущностями для работы приложения являются:
\begin{itemize}
    \item База постных рецептов с детализацией по ингредиентам, граммовкам и выходу порций.
    \item Модуль планирования меню, который агрегирует выбранные рецепты в единый план.
    \item Cписок покупок, который суммирует все необходимые ингредиенты из запланированного меню.
\end{itemize}

Основная цель: помочь пользователям легко и правильно соблюдать Великий пост, экономя время и силы на планировании и закупках. Если будут корректно реализованы три ключевых компонента — обширная база рецептов, удобный планировщик и умный список покупок, — то будет достигнута главная ценность для пользователя: повысится удобство и уверенность в соблюдении постных традиций, что приведет к росту регулярного использования приложения и его лояльной аудитории.

\newpage
\subsection{Ментальная модель пользователя}
Пользователь представляет приложение как цифрового помощника, специализирующегося на постной кухне, доступного на его смартфоне. Такое приложение, хотя и может сохранять некоторые данные локально (например, избранные рецепты), в основном требует подключения к сети для доступа к полной базе рецептов и синхронизации данных.

Пользователю неизвестны принципы работы системы, система выступает для него в роли "черного ящика", который по его запросу выдает подходящие рецепты и списки покупок.

Пользователь ожидает на главном экране приложения возможность быстрого поиска рецептов, доступа к календарю меню и кнопку для создания нового плана питания.

Пользователи приложения ожидают, что оно будет быстро и точно реагировать на их действия, понимают, что для поиска нужного блюда нужно воспользоваться поисковой строкой или фильтрами (например, "без масла", "суп", "на 4 порции"). Большинство из них не имеют технического образования и не имеют представления о работе базы данных или алгоритмов подбора. Эти пользователи работают с приложением в различных условиях: дома, в магазине, на кухне, при различной скорости сетевого подключения. Пользователи системы знают, что при встрече ошибки или сложности можно обратиться в службу поддержки.

Так как предположительно приложение будет использоваться как новичками, только начинающими соблюдать пост, так и опытными пользователями, то оно должно быть реализовано как "помощник" с подсказками по правилам питания в разные дни поста, которые могут отключаться более опытными пользователями.

При открытии приложения ожидается предоставление возможности поиска, фильтрации по типу блюда и ингредиентам, добавления рецептов в календарь меню и автоматического формирования списка покупок.

Визуальная часть интерфейса воспринимается на ассоциациях буквально, т.е. пользователи могут правильно ассоциировать базовые графические символы системы с их назначением: иконка поварской книги — с разделом рецептов, иконка календаря — с планировщиком меню, иконка тележки — со списком покупок.

\subsection{Задачи}
Данное приложение предоставляет функционал персонального помощника для планирования питания в Великий пост и выполняет следующие задачи:
\begin{itemize}
    \item Поиск и просмотр рецептов блюд, разрешенных к употреблению в Великий пост.
    \item Фильтрация результатов поиска по типу блюда, ингредиентам, времени приготовления и соответствию церковным предписаниям на конкретный день (например, строгий пост, с растительным маслом).
    \item Планирование меню путем добавления выбранных рецептов в календарь на день или неделю.
    \item Автоматический расчет и формирование единого списка покупок на основе выбранных рецептов с учетом граммовок и количества порций.
    \item Корректировка количества порций в рецептах с автоматическим пересчетом необходимого количества ингредиентов.
\end{itemize}

\subsection{Описание процессов}
Процесс нужен для понимания того, как реализовать сценарий взаимодействия пользователя с приложением.
\begin{itemize}
    \item Поиск подходящих рецептов: Пользователь вводит название блюда или основной ингредиент (например, "грибы", "чечевичный суп") в поисковую строку. Для отправки запроса он может нажать на клавишу "Ввод" на виртуальной клавиатуре в интерфейсе.
    \item Фильтрация результатов поиска по критериям поста и типу блюда: На странице с результатами поиска пользователь нажимает на кнопку «Фильтры». В открывшемся меню он выбирает нужные критерии: тип блюда (салат, первое, выпечка), наличие/отсутствие растительного масла (для строгих дней), сложность приготовления и общее время готовки.
    \item Сохранение рецепта в «Избранное» или планирование его в меню: Пользователь открывает карточку понравившегося рецепта. Под фотографией и описанием он нажимает на иконку «Сердечко», чтобы добавить рецепт в «Избранное», или на кнопку «Добавить в меню», после чего выбирает конкретный день и прием пищи (завтрак, обед, ужин) в календаре.
    \item Просмотр и редактирование меню на неделю: Пользователь переходит в раздел «Мое меню», где видит календарную сетку на неделю. Нажимая на любой прием пищи, он может увидеть запланированное блюдо, удалить его или заменить другим, выбрав из списка сохраненных или найденных рецептов.
    \item Формирование итогового списка покупок: Пользователь в разделе «Мое меню» нажимает на кнопку «Созровать список покупок». Приложение анализирует все ингредиенты из рецептов, запланированных на выбранный период, объединяет их и автоматически подсчитывает общее количество. Пользователь может просмотреть итоговый список, отредактировать его (например, убрать уже имеющиеся дома продукты) и сохранить.
\end{itemize}

% ПРИДУМАТЬ НАЗВАНИЕ ПОЛУЧШЕ 
\subsection{Основные сценарии использования}
\subsubsection{Поиск и фильтрация рецептов}
\begin{itemize}
    \item Активация поискового поля. Пользователь нажимает на поисковую строку на главном экране для ввода запроса.
    \item Ввод поискового запроса. Пользователь вводит слово или набор слов (название блюда, ингредиент), характеризующих нужный рецепт.
    \item Применение фильтров. В специальном меню фильтров пользователь выбирает критерии: тип блюда (суп, салат, второе), время приготовления, наличие/отсутствие растительного масла (для строгих дней поста), сложность приготовления и список исключаемых ингредиентов (например, при аллергии).
\end{itemize}
\subsubsection{Работа с рецептами и планирование меню}
\begin{itemize}
    \item Просмотр карточки рецепта. При нажатии на рецепт из списка результатов открывается его полное описание: фото, пошаговое приготовление, ингредиенты с граммовками и указанием количества готовых порций.
    \item Добавление рецепта в «Избранное». Пользователь нажимает на иконку «Сердечко» в карточке рецепта, чтобы сохранить его для быстрого доступа в будущем.
    \item Добавление блюда в календарь меню. В карточке рецепта пользователь нажимает кнопку «Добавить в меню», после чего выбирает конкретную дату и прием пищи (завтрак, обед, ужин) в календарном интерфейсе.
\end{itemize}
\subsubsection{Формирование и управление списком покупок}
\begin{itemize}
    \item Автоматическая генерация списка. Пользователь в разделе «Мое меню» нажимает кнопку «Сформировать список покупок». Система анализирует все запланированные рецепты, объединяет одинаковые ингредиенты и суммирует их граммовки/количество.
    \item Редактирование сгенерированного списка. Пользователь может вручную удалить из списка уже имеющиеся дома продукты, откорректировать количество или добавить дополнительные позиции.
    \item Отметка о покупке. В процессе покупок пользователь может отмечать купленные товары галочкой, чтобы визуально отделить их от еще не найденных.
\end{itemize}
\subsubsection{Корректировка рецепта под нужды пользователя}
\begin{itemize}
    \item Изменение количества порций. Пользователь в карточке рецепта с помощью счетчика увеличивает или уменьшает количество порций. Система автоматически пересчитывает количество всех ингредиентов с сохранением пропорций.
\end{itemize}

\newpage
\section{Анализ пользователя приложения}
\subsection{Модель пользователей продукта}
\textbf{Основным пользователем} - является человек, соблюдающий Великий пост, который хочет получить от системы готовое решение в виде простых и понятных рецептов, соответствующих церковным канонам, и автоматически сформированный список покупок. Предполагаемый возраст от 25 до 70 лет, имеет базовый опыт использования смартфона, владеет только одним языком (русским) и ищет в приложении, в первую очередь, удобства и экономии времени.
\textbf{Второстепенные пользователи} — это три ключевые группы с различными целями:
\begin{itemize}
    \item Новички, желающие начать соблюдать пост. Преимущественно молодые люди, которые чувствуют недостаток знаний и опыта. Их ключевая задача — получить максимально простые и понятные инструкции. Они активно используют встроенные подсказки о правилах поста, календарь с отметками строгих дней. Для них критически важна ясность и поддержка на каждом шаге.
    \item Веганы. Пользователи любого возраста, уже придерживающиеся строгой растительной диеты. Они являются «экспертами» в области рецептов без продуктов животного происхождения и используют приложение как источник нового кулинарного вдохновения. Они активно пользуются расширенной фильтрацией, чтобы найти уникальные блюда, и очень требовательны к точности состава рецептов.
    \item Приверженцы здорового питания. Люди, следящие за сбалансированностью рациона. Они не обязательно соблюдают все церковные предписания, но ценят приложение за базу полезных растительных рецептов. Их ключевые функции — информация о пищевой ценности (КБЖУ) и возможность фильтровать блюда по содержанию белков, жиров или углеводов. Они используют приложение как инструмент для поддержания здорового образа жизни.
\end{itemize}

\subsection{Пример основного пользователя}
\begin{tabular}{|p{0.95\textwidth}|}
    \hline
    \textbf{Основной пользователь} \\
    \hline
    \textbf{Описание:} \\
    Женщина 42 лет, работает бухгалтером, замужем, двое детей-подростков. Семья верующая, соблюдает Великий пост ежегодно. Из увлечений — чтение, садоводство, собирание пазлов. \\
    \hline
    \textbf{Цели:} \\
    Быстро и без лишних усилий составить разнообразное и соответствующее церковному уставу меню на всю семью на период поста, получить точный список продуктов для похода в магазин, чтобы сэкономить время и деньги. \\
    \hline
    \textbf{Взаимодействие с системой:} \\
    Система используется вечером после работы или в выходные дни для планирования меню на неделю. \\
    Взаимодействует с системой эпизодически: 1-2 раза в неделю по 30-60 минут. \\
    Опыта использования подобных приложений нет или минимален. \\
    Оценивает систему по простоте, понятности интерфейса и реальной помощи в ежедневных задачах (что готовить и что покупать). \\
    \hline
    \textbf{Квалификация:} \\
    Опыт соблюдения поста — средний, знает основные правила, но не во всех деталях. \\
    Опыт работы с электронными устройствами — базовый (мессенджеры, социальные сети, браузер). \\
    Имеет общие представления о безопасности в интернете, достаточные для регистрации в приложении. \\
    \hline
    \end{tabular}
    
\subsection{Контекст использования основного пользователя}
Семья из четырех человек готовится к Великому посту. Женщина, которая традиционно занимается планированием питания, сталкивается с трудностью - необходимо составить разнообразное меню на 48 дней, соответствующее всем церковным требованиям. Раньше она пользовалась кулинарными книгами и заметками, но это занимало много времени и часто приводило к повторению одних и тех же блюд. В этом году она решает воспользоваться мобильным приложением "ПостВкус", чтобы автоматизировать процесс планирования, получить новые рецепты и точно рассчитать количество продуктов для покупки, экономя время и бюджет семьи.

\subsection{Контекст использования второстепенного пользователя}
Молодой человек, перешедший на веганское питание, активно ищет новые рецепты для разнообразия своего рациона. Начинает только знакомистя с постной кухней, составить правильное меню. Будучи опытным пользователем различных кулинарных приложений, он выбирает "ПостВкус" для поиска интересных рецептов, проверки их соответствия постным требованиям и точного расчета ингредиентов. Приложение позволяет ему быстро найти подходящие варианты.

\subsection{Сценарий использования основного пользователя}

Описание шагов сценария:
\begin{enumerate}
\item Открыть приложение «ПостВкус» для планирования постного меню на неделю для семьи из 4 человек.

\item На главной странице приложения найти раздел «Рецепты» и нажать на кнопку «Поиск».

\item Ввести в поисковую строку запрос: «Постные супы на каждый день».

\item Применить фильтры к результатам поиска. Пользователь нажимает на кнопку «Фильтры» и выбирает параметры:
    \begin{enumerate}
    \item тип блюда: первое
    \item время приготовления: до 60 минут
    \item наличие масла: без масла
    \item количество порций: 4
    \end{enumerate}

\item Просмотреть полученные результаты. Пользователь изучает рецепты, обращая внимание на:
    \begin{enumerate}
    \item список ингредиентов
    \item время приготовления
    \item отзывы других пользователей
    \end{enumerate}

\item Выбрать подходящий рецепт «Суп грибной постный». Нажать на картинку рецепта для перехода на страницу с полным описанием.

\item На странице рецепта изучить:
    \begin{enumerate}
    \item полный список ингредиентов с граммовками
    \item пошаговый способ приготовления
    \item пищевую ценность блюда
    \end{enumerate}

\item Нажать кнопку «Добавить в меню» и выбрать в календаре:
    \begin{enumerate}
    \item дату: следующая пятница
    \item прием пищи: обед
    \end{enumerate}

\item Вернуться к поиску рецептов для составления полноценного меню на неделю.

\item Повторить шаги 3-8 для других категорий блюд:
    \begin{enumerate}
    \item постные салаты
    \item вторые блюда
    \item выпечка
    \end{enumerate}

\item Перейти в раздел «Мое меню» для просмотра составленного плана питания на неделю.

\item Нажать кнопку «Сформировать список покупок» для автоматического создания общего списка продуктов на все выбранные рецепты.

\item Проверить и отредактировать сгенерированный список:
    \begin{enumerate}
    \item удалить уже имеющиеся продукты
    \item скорректировать количество некоторых ингредиентов
    \end{enumerate}

\item Сохранить готовый список покупок в формате PDF для похода в магазин.
\end{enumerate}

\subsection{Сценарий использования второстепенного пользователя}

Описание шагов сценария:
\begin{enumerate}
\item Открыть приложение «ПостВкус» для знакомства с постной кухней.

\item На главной странице приложения выбрать раздел "Рекомендации".

\item Просмотреть подборку самых популярных постных блюд:
    \begin{enumerate}
    \item отсортировать по простоте приготовления
    \item выбрать блюда с минимальным временем готовки
    \item обратить внимание на рейтинг и отзывы
    \end{enumerate}

\item Выбрать рецепт «Картофель с грибами в горшочке». Нажать на картинку рецепта.

\item На странице рецепта:
    \begin{enumerate}
    \item ознакомиться с пошаговой инструкцией приготовления
    \item просмотреть список необходимых ингредиентов
    \item оценить сложность приготовления по 5-балльной шкале
    \end{enumerate}

\item Нажать кнопку «Настройка порций» и установить значение: 2 порции (для себя и друга).

\item Система автоматически пересчитывает количество всех ингредиентов для двух порций.

\item Нажать кнопку «Добавить в избранное» для сохранения рецепта.

\item Нажать кнопку «Список покупок» для формирования перечня необходимых продуктов.

\item Просмотреть сгенерированный список покупок:
    \begin{enumerate}
    \item отметить уже имеющиеся дома продукты
    \item скорректировать количество при необходимости
    \end{enumerate}

\item Сохранить список покупок для похода в магазин.

\item Вернуться на главную страницу для поиска дополнительных рецептов.

\item Использовать поиск по ключевым словам «простое постное блюдо» для нахождения других подходящих рецептов.

\item Просмотреть 2-3 дополнительных рецепта и добавить наиболее понравившиеся в избранное.
\end{enumerate}

\subsection{Анализ ошибок пользователя}

Пользователь может допустить несколько ошибок при поиске рецептов и планировании меню для Великого поста. Отсутствие у пользователя опыта работы с подобными приложениями может привести к непониманию логики работы системы.

Также возможны ошибки, связанные со сложностью навигации и недостаточной интуитивностью интерфейса. В связи с этим приложению сложнее помочь пользователю найти нужные рецепты и правильно составить меню.

Таким образом выявлены следующие типы ошибок:
\begin{itemize}
\item Орфографические
\item Синтаксические  
\item Ошибки интерфейса
\item Ошибки работы с настройками
\end{itemize}

Наиболее распространенные ошибки пользователей:
\begin{enumerate}
\item Ошибки правописания при вводе поискового запроса (например, «грибнной» вместо «грибной»)
\item Непонимание системы фильтров и их назначения:
    \begin{enumerate}
    \item Путаница в типах постных дней (строгий пост, с маслом, с рыбой)
    \item Неправильный выбор количества порций
    \item Затруднения с фильтрацией по исключаемым продуктам
    \end{enumerate}
    
\item Ошибки при работе с календарем меню:
    \begin{enumerate}
    \item Неправильное добавление блюд на определенные даты
    \item Случайное удаление блюд из меню
    \item Путаница в настройках порций для разных приемов пищи
    \end{enumerate}

\item Ошибки при формировании списка покупок:
    \begin{enumerate}
    \item Неумение редактировать автоматически сгенерированный список
    \item Случайное удаление необходимых продуктов из списка
    \item Неправильная корректировка количества ингредиентов
    \end{enumerate}

\item Технические ошибки:
    \begin{enumerate}
    \item Случайный выход без сохранения составленного меню
    \end{enumerate}

\item Синтаксические ошибки:
    \begin{enumerate}
    \item Использование некорректных названий блюд при поиске
    \item Непонимание кулинарных терминов в описании рецептов
    \item Путаница в названиях ингредиентов и их аналогов
    \end{enumerate}
\end{enumerate}

\section{Выбор методов обработки ошибок пользователя}

\subsection{Методы обработки поисковых ошибок}

\begin{enumerate}
\item \textbf{Автодополнение и исправление опечаток}
\begin{itemize}
\item Реализация системы подсказок при вводе поискового запроса
\item Сравнение введенных слов с кулинарным словарем приложения
\item Автоматическое исправление частых опечаток (например, «грибной» вместо «грибнной»)
\item Предложение альтернативных вариантов при нулевом результате поиска
\end{itemize}

\item \textbf{Семантический поиск}
\begin{itemize}
\item Распознавание синонимов и родственных терминов
\item Поиск по ключевым ингредиентам независимо от их порядка
\item Учет региональных названий продуктов
\end{itemize}
\end{enumerate}

\subsection{Методы предотвращения ошибок в фильтрах}

\begin{enumerate}
\item \textbf{Визуальная группировка параметров}
\begin{itemize}
\item Четкое разделение фильтров по типам постных дней
\item Визуальные индикаторы выбранных параметров
\item Подсказки при наведении на каждый фильтр
\end{itemize}

\item \textbf{Ограничение вводимых значений}
\begin{itemize}
\item Использование выпадающих списков вместо текстовых полей
\item Предустановленные значения для количества порций
\item Валидация числовых параметров
\end{itemize}
\end{enumerate}

\subsection{Методы работы с ошибками в меню}

\begin{enumerate}
\item \textbf{Защита от случайных действий}
\begin{itemize}
\item Подтверждение удаления блюд из меню
\item Возможность отмены последнего действия
\item Визуальное выделение измененных элементов
\end{itemize}

\item \textbf{Автоматическое сохранение}
\begin{itemize}
\item Автосохранение при каждом изменении меню
\item Сохранение черновиков при неожиданном закрытии приложения
\item История изменений за текущую сессию
\end{itemize}
\end{enumerate}

\subsection{Методы обработки ошибок в списке покупок}

\begin{enumerate}
\item \textbf{Восстановление данных}
\begin{itemize}
\item Возможность вернуть случайно удаленные продукты
\item Кэширование предыдущей версии списка
\end{itemize}

\item \textbf{Валидация изменений}
\begin{itemize}
\item Проверка корректности вводимых количеств продуктов
\item Предупреждение о значительном изменении порций
\item Блокировка нелогичных операций
\end{itemize}
\end{enumerate}

\subsection{Технические методы обработки ошибок}
\begin{enumerate}
\item \textbf{Контекстная помощь}
\begin{itemize}
\item Всплывающие подсказки для сложных элементов
\item Примеры корректного ввода данных
\item Пояснения к специальным терминам
\end{itemize}
\end{enumerate}

\newpage
\section{Структура диалога}
\subsection{Граф состояний}

Для пользователя, планирующего постное меню и составляющего список покупок, программа может находиться в следующих состояниях:

\begin{enumerate}[label=\alph*]
\item Начальное состояние. Главная страница
\item Страница поиска рецептов
\item Страница результатов поиска по запросу
\item Страница рецепта
\item Страница планировщика меню
\item Страница списка покупок
\item Страница избранного
\item Страница профиля пользователя
\end{enumerate}

Переход между состояниями происходит при помощи следующих действий:

\begin{enumerate}
\item Открытие приложения «ПостВкус»
\item Ввод текстового запроса в поисковую строку
\item Нажатие на кнопку «Поиск»
\item Нажатие на кнопку «Фильтры» для фильтрации списка рецептов
\item Нажатие на изображение или название рецепта для перехода на страницу рецепта
\item Нажатие на кнопку «Добавить в меню» для планирования рецепта
\item Нажатие на кнопку «В избранное» для сохранения рецепта
\item Нажатие на кнопку «Настройка порций» для изменения количества порций
\item Нажатие на иконку календаря для перехода в раздел «Мое меню»
\item Нажатие на кнопку «Сформировать список покупок» в разделе меню
\item Редактирование сгенерированного списка покупок
\item Нажатие на иконку профиля для перехода в личный кабинет
\item Нажатие на логотип приложения для перехода на стартовую страницу
\item Нажатие на кнопку «Назад» для возврата к предыдущему экрану
\item Закрытие приложения «ПостВкус»
\end{enumerate}

На рисунке \ref{fig:graph} представлен граф переходов состояний.

\begin{figure}[H]
    \centering
    \includegraphics[width=0.48\linewidth]{img/image.png}
    \caption{Граф переходов состояний}
    \label{fig:graph}
\end{figure}

\subsection{Структура команд}
Приложение имеет следующие типы команд:

1. Команды без операндов:
\begin{enumerate}
\item Открытие приложения «ПостВкус»
\item Возврат к результатам поиска. Нажатие на кнопку «Назад» для возврата к списку найденных рецептов
\item Удаление рецепта из меню. Нажатие на иконку «Удалить» рядом с рецептом в меню
\item Переход на стартовую страницу. Нажатие на логотип приложения
\item Закрытие приложения «ПостВкус»
\end{enumerate}

2. Команды с одним операндом:
\begin{enumerate}
\item Переход на страницу рецепта. Нажатие на изображение или название рецепта для перехода на страницу понравившегося рецепта: ссылка на страницу рецепта
\item Добавление рецепта в меню. Нажатие на кнопку «Добавить в меню» для планирования рецепта: выбранный рецепт
\item Добавление рецепта в избранное. Нажатие на кнопку «В избранное» для сохранения рецепта: выбранный рецепт
\item Настройка количества порций. Нажатие на кнопку «Настройка порций» для изменения количества порций: выбранный рецепт
\item Переход в раздел меню. Нажатие на иконку календаря для перехода в раздел «Мое меню»: ссылка на страницу меню
\item Переход в раздел списка покупок. Нажатие на кнопку «Сформировать список покупок»: ссылка на страницу списка покупок
\item Переход в профиль пользователя. Нажатие на иконку профиля: ссылка на страницу профиля
\end{enumerate}

3. Команда со строковыми данными:
\begin{enumerate}
\item Действие «Поиск»: текстовый запрос поиска
\item Редактирование списка покупок: изменение названий и количеств продуктов
\item Ввод данных профиля пользователя: имя, email, диетические предпочтения
\end{enumerate}

4. Команда со списком найденных по запросу рецептов в качестве параметра:
\begin{enumerate}
\item Фильтрация результатов поиска. Нажатие на кнопку «Фильтры» для фильтрации списка найденных рецептов по предпочтениям пользователя: список всех найденных по запросу рецептов
\end{enumerate}

\subsection{Минимизация действий при выполнении команд}

Для минимизации действий при выполнении операций использованы следующие принципы и методики:

\begin{enumerate}
\item Прямой доступ к основным функциям из начального состояния. На главной странице размещены быстрые ссылки на поиск рецептов, планировщик меню и список покупок.

\item Использование интеллектуального поиска с автодополнением и исправлением опечаток, что позволяет пользователю быстро находить нужные рецепты без точного ввода названий.

\item Возможность добавления рецепта в меню непосредственно со страницы результатов поиска, минуя промежуточные переходы.

\item Автоматическое сохранение всех изменений в реальном времени, исключающее необходимость ручного сохранения меню и списков покупок.

\item Единообразная навигация между разделами приложения с использованием нижнего меню, обеспечивающая быстрый доступ ко всем основным функциям за 1-2 нажатия.

\item Контекстные действия на странице рецепта: добавление в меню, избранное и настройка порций доступны без дополнительных переходов.

\item Автоматическая генерация списка покупок на основе выбранных рецептов с возможностью быстрого редактирования без потери данных.

\item Возможность отмены последнего действия в любой момент работы с приложением.

\item Использование жестов для частых операций (свайп для удаления, долгое нажатие для быстрого редактирования).

\item Минимизация количества полей ввода за счет использования предустановленных значений и интеллектуальных подсказок.
\end{enumerate}

Данные подходы позволяют пользователю выполнять основные сценарии использования приложения с минимальным количеством действий:
\begin{itemize}
\item Поиск и добавление рецепта в меню: 3-4 действия
\item Формирование списка покупок: 2-3 действия  
\item Планирование меню на неделю: 5-7 действий
\end{itemize}

\newpage
\section{Шаблоны экранной формы}

На рисунках \ref{fig:homepage} - \ref{fig:lk}, представлены шаблоны экранных форм.
\subsection{Главный экран}

\begin{itemize}
\item Поисковая строка с возможностью быстрого поиска рецептов
\item Календарь с отображением текущего плана питания
\item Блок рекомендаций с популярными постными рецептами
\item Быстрый переход в раздел "Избранное"
\item Кнопка "Сформировать список покупок" для текущего меню
\item Навигационное меню с разделами приложения
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/firstPage.png}
    \caption{Главная страница}
    \label{fig:homepage}
\end{figure}



\subsection{Страница поиска рецептов}
\begin{itemize}
\item Расширенная поисковая строка с историей запросов
\item Система фильтров:
  \begin{itemize}
  \item Тип блюда 
  \item Время приготовления
  \item Наличие масла
  \item Сложность
  \end{itemize}
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/search.png}
    \caption{Страница поиска}
    \label{fig:search}
\end{figure}




\subsection{Страница рецепта}
\begin{itemize}
\item Фотография готового блюда
\item Список ингредиентов с точными граммовками
\item Настройка количества порций с автоматическим пересчетом ингредиентов
\item Пошаговое описание приготовления
\item Пищевая ценность блюда (КБЖУ)
\item Кнопки действий:
  \begin{itemize}
  \item "Вернутся на домашнюю страницу"
  \item "В избранное"
  \item "Поделиться рецептом"
  \item Слайдер (с боку), для пролистования рецепта
  \end{itemize}
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/ing.png}
    \caption{Страница с рецептом}
    \label{fig:ing}
\end{figure}


\subsection{Планировщик меню}
\begin{itemize}
\item Календарная сетка на неделю с разбивкой по приемам пищи
\item Цветовые маркеры соответствия постным дням
\item Быстрый просмотр запланированных блюд на день
\item Сводная информация о пищевой ценности за день
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/plan2.png}
    \caption{Страница планировщика меню}
    \label{fig:plan}
\end{figure}

\subsection{Список покупок}
\begin{itemize}
\item Автоматически сгенерированный список ингредиентов
\item Группировка продуктов по блюдам на день
\item Возможность удаления позиций
\item Отметка о покупке (чекбоксы)
\item Суммарная стоимость продуктов
\item Возможность экспорта списка в текстовом формате (иконка "поделиться")
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/flist.png}
    \caption{Страница списка покупок}
    \label{fig:list}
\end{figure}

\subsection{Личный кабинет}
\begin{itemize}
\item Предпочтения
\item Аллергены
\item История недавних рецептов
\item Настройка профиля
\item Статистика соблюдения постных дней
\end{itemize}

\begin{figure}[H]
    \centering
    \includegraphics[width=0.38\linewidth]{img/lk.png}
    \caption{Страница личного кабинета}
    \label{fig:lk}
\end{figure}

\newpage
\section{Описание дизайна экранной формы}

Для данного типа приложения требуется простой и лаконичный дизайн, не отвлекающий пользователя от информации и выделяющий основную информацию.

На главной странице требуется строка ввода и категории запросов в виде кнопок и интуитивно понятными значками, выделяемыми на основном белом фоне.

Дизайн страниц имеет единый стиль.

\subsection{Цветовая палитра}
\begin{itemize}
\item Фоновый цвет: белый (\#FFFFFF, "White")
\item Основной цвет текста: черный (\#000000, "Black")
\item Цвет заголовков: черный (\#000000, "Black")
\item Цвет акцентов (кнопки, слайдеры): лиловый (\#9370DB, "Medium Purple")
\item Цвет текста подведения итогов и планов: бордовый (\#800000, "Maroon")
\item Цвет иконок и вкладок в шапке приложения: черный (\#000000, "Black")
\end{itemize}

\subsection{Вывод текста}
Для вывода текста будет использован шрифт Verdana без засечек и с резкими контурами.

Шрифт также используется для привлечения внимания - более важные части выделены жирным шрифтом.

Темный текст хорошо контрастирует со светлым фоном. Не используются дополнительные цвета, способные повлиять на удобочитаемость текста.

Использовано минимальное количество слов, необходимых для ясной передачи смысла.
Использованы общепринятые сокращения.

\subsection{Типографика}
\begin{itemize}
\item \textcolor{magenta}{\textbf{ЗАГОЛОВКИ СТРАНИЦ}}: лиловый цвет, жирный шрифт Verdana, верхний регистр
\item \textbf{НАЗВАНИЯ РЕЦЕПТОВ}: черный цвет, жирный шрифт Verdana, верхний регистр
\item \textbf{КНОПКИ И МЕТКИ}: черный цвет, жирный шрифт Verdana, верхний регистр
\item \textcolor{red}{\textbf{ИТОГИ И ПЛАНЫ}}: бордовый цвет, жирный шрифт Verdana, верхний регистр
\item Основной текст: черный цвет, обычный шрифт Verdana
\item Вспомогательный текст: черный цвет, обычный шрифт Verdana, уменьшенный размер
\end{itemize}

\subsection{Элементы интерфейса}
\begin{itemize}
\item Кнопки: белый фон, черный жирный текст, обводка черным контуром
\item Поля ввода: лиловый фон, черная рамка, серый текст
\item Слайдеры: лиловый ползунок, белая дорожка
\item Карточки рецептов: белый фон, заголовки жирным шрифтом
\item Навигационное меню: белый фон, черные иконки, лиловые активные элементы
\end{itemize}


\newpage
\section*{Заключение}
\addcontentsline{toc}{section}{Заключение}
В результате работы был спроектирован человеко-машинный интерфейс для планирования меню Великого поста.

Созданное приложение имеет приятный и удобный для работы интерфейс. Главная страница имеет набор кнопок меню по основным функциям и возможностям системы, что позволяет быстро воспользоваться ими.

Система является помощником в планировании постного питания, имеет большую базу данных рецептов, соответствующих требованиям Великого поста.

При использовании можно отметить, что интерфейс не перегружен выделенными элементами и дополнительными экранными формами, что тем самым не отвлекает внимание пользователя. Даже неопытные пользователи могут уверенно использовать систему.

Система хорошо работает с ошибками, всегда выдает сообщение об ошибке и возможность исправить ее.

Можно сделать вывод, что интерфейс выполнен в лаконичном, сдержанном стиле для минимального отвлечения от основного функционала программы. Данное приложение возможно для использования не только пользователями с достаточно высоким уровнем подготовки, но и неопытному пользователю. Присутствует обучающая информация, интерфейс является интуитивно понятным для новых пользователей.

Цветовое решение способствует комфортной работе с приложением, где основные элементы навигации выделены лиловым цветом, а важная информация о планировании и итогах - бордовым, что позволяет быстро ориентироваться в интерфейсе и находить необходимые функции.
\newpage
\addcontentsline{toc}{section}{Список литературы}
\begin{thebibliography}{9}
    \bibitem{cooper}
    Алан Купер. \emph{Об интерфейсе. Основы проектирования взаимодействия}. --- 2-е изд. --- М.: ИМВ, 2009. — 688 с.
    \end{thebibliography}

\end{document}

